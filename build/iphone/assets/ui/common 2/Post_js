function Post(e){var t=convertUTCDateToLocalDate(new Date(e.startDate),e.timeZone),i=formatDate(t),o=convertUTCDateToLocalDate(new Date(e.endDate),e.timeZone),a=formatDate(o);this.title=new Description(e.title).getDescription(),this.snl=i+(a!=i?" - "+a:""),this.place=e.place,this.description=new Description(e.description).getDescription(),this.pubDate=e.pubDate,this.postDate=e.postDate,this.allDay=e.allDay,this.startDate=t,this.endDate=e.endDate,this.hlink=e.hlink,this.image=new Description(e.description).getImage(),this.url=e.link,this.imageheight=null!=this.image?getImageHeight(this.image):null}function getImageHeight(e){var t=Ti.UI.createImageView({image:e,width:"auto",height:"auto",hires:!0});new CachedImageView("imageDirectoryName",e,t);var i=t.toImage().height/t.toImage().width;return Math.floor(300*i)}function convertUTCDateToLocalDate(e,t){var i,o,a;switch(t){case"CST":i=6;break;case"PDT":i=7;break;case"EDT":i=4;break;default:i=5}return o=new Date(e.getTime()+36e5*i),a=new Date(o.getTime()-6e4*e.getTimezoneOffset())}function formatDate(e){var t=new Date(e),i=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),n="AM",r=i;r>=12&&(r=i-12,n="PM"),0==r&&(r=12),o=10>o?"0"+o:o,a=10>a?"0"+a:a;var l=(new RegExp("0?"+i+":"+o+":"+a),r+":"+o);return l+=" "+n}var Description=require("ui/common/Description"),CachedImageView=require("ui/common/CachedImageView");module.exports=Post;