function GameWatchWindow(e,t,i,o){for(var a=60,n=Ti.UI.createView({top:o,backgroundColor:"#ffffff",bottom:a}),r=[],l=0;l<=e.length-1;l++)r.push(Map.createAnnotation({latitude:e[l].latitude,longitude:e[l].longitude,title:e[l].place,subtitle:e[l].street,pincolor:Map.ANNOTATION_RED,animate:!0}));var d=e[0].latitude,c=e[0].longitude,u=Map.createView({mapType:Map.NORMAL_TYPE,region:{latitude:e[0].latitude,longitude:e[0].longitude,latitudeDelta:.01,longitudeDelta:.01},animate:!0,regionFit:!0,userLocation:!1,height:200,annotations:r,top:0}),s=Ti.UI.createButton({title:"Get Route",width:80,height:30,backgroundColor:"#66CCFF",borderRadius:5,borderWidth:1,bottom:5,left:5,font:{fontFamily:"Helvetica",fontSize:14,fontWeight:"bold"}});u.add(s),s.addEventListener("click",function(){Ti.Network.online?(Ti.Geolocation.purpose="Receive User Location",Titanium.Geolocation.getCurrentPosition(function(e){if(!e.success||e.error)return void alert("Could not find the device location");var t=parseFloat(e.coords.longitude,10).toFixed(5),i=parseFloat(e.coords.latitude,10).toFixed(5),o="http://maps.google.com/maps?saddr="+i+","+t+"&daddr="+d+","+c;new WebView(o)})):alert("Internet connection is required to use localization features")});for(var g=Ti.UI.createTableView({height:"auto",top:200}),h=[],m=0,l=0;l<=r.length-1;l++){if(m%2==0)var f=Ti.UI.createTableViewRow({club:e[l].club,latitude:e[l].latitude,longitude:e[l].longitude,height:"auto",bottom:10});else var f=Ti.UI.createTableViewRow({club:e[l].club,latitude:e[l].latitude,longitude:e[l].longitude,height:"auto",backgroundColor:"#cccccc",bottom:10});var w=Ti.UI.createLabel({text:e[l].club,textAlign:"left",height:20,top:10,left:10,font:{fontFamily:"Helvetica-Bold",fontSize:16,fontWeight:"normal"}}),p=Ti.UI.createLabel({text:e[l].place,textAlign:"left",left:10,top:31,height:14,font:{fontFamily:"HelveticaNeue-Light",fontSize:12,fontWeight:"bold"}}),b=Ti.UI.createLabel({text:e[l].street,textAlign:"left",left:10,top:46,height:14,font:{fontFamily:"HelveticaNeue-Light",fontSize:12,fontWeight:"bold"}});if("NA"!=e[l].phone){var T=Ti.UI.createLabel({text:e[l].phone,textAlign:"left",left:10,top:61,height:14,font:{fontFamily:"HelveticaNeue-Light",fontSize:12,fontWeight:"bold"}});f.add(T)}f.add(w),f.add(p),f.add(b),h.push(f),m++}return h=addRows(l,h,!1),g.setData(h),n.add(u),n.add(g),g.addEventListener("click",function(t){i.trackEvent({category:"Game Watches",action:"click",label:e[t.index].club,value:1}),u.setLocation({latitude:t.row.latitude,longitude:t.row.longitude,animate:!0,latitudeDelta:.01,longitudeDelta:.01}),d=t.row.latitude,c=t.row.longitude,u.selectAnnotation(r[t.index])}),n}function addRows(e,t,i){if(1==e&&1==i){var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",backgroundColor:"#cccccc",bottom:10});t.push(o);var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",bottom:10});t.push(o);var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",backgroundColor:"#cccccc",bottom:10});t.push(o)}else if(1==e&&0==i){var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",backgroundColor:"#cccccc",bottom:10});t.push(o)}else if(2==e&&1==i){var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",bottom:10});t.push(o);var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",backgroundColor:"#cccccc",bottom:10});t.push(o)}else if(3==e&&1==i){var o=Ti.UI.createTableViewRow({height:100,selectionStyle:"none",backgroundColor:"#cccccc",bottom:10});t.push(o)}return t}var WebView=require("ui/common/WebView"),EditText=require("ui/common/EditText"),ClubsWindow=require("ui/common/ClubsWindow"),Map=require("ti.map");module.exports=GameWatchWindow;