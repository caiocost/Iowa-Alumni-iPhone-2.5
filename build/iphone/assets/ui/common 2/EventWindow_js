function EventsWindow(e,t){var i=Titanium.UI.createView(),o=new ApplicationWindow(e,i),a=0,n=60,r=new Feed;t.trackScreen(e);{var l=[],d=new GetFeed(r.eventsFeed()),c=new GetFeed(r.eventsSportsCategoryFeed()),u=new GetFeed(r.eventsClubsCategoryFeed()),s=new GetFeed(r.eventsUIAACategoryFeed()),g=new GetFeed(r.eventsStudentCategoryFeed()),h=Titanium.UI.createView({top:0,left:0,width:Ti.UI.FILL,height:Ti.Platform.displayCaps.platformHeight-n}),m=createEventView(d,e,n,l);createEventView(c,e,n,l),createEventView(u,e,n,l),createEventView(s,e,n,l),createEventView(g,e,n,l)}h.add(m);var w,f=[],p=[i,h];w=1==l.length?["dots1_1.png"]:2==l.length?["dots2_1.png","dots2_2.png"]:3==l.length?["dots3_1.png","dots3_2.png","dots3_3.png"]:4==l.length?["dots4_1.png","dots4_2.png","dots4_3.png","dots4_4.png"]:["dots1.png","dots2.png","dots3.png","dots4.png","dots5.png"];for(var b=Ti.UI.createImageView({image:"slide_right.png",bottom:3,right:5,width:54,height:54,zIndex:5}),T=Ti.UI.createImageView({image:"slide_left.png",bottom:3,left:5,width:54,height:54,zIndex:5}),v=0;v<l.length;v++){var I=Titanium.UI.createView({}),F=Ti.UI.createLabel({text:l[v][0][0].category,font:{fontFamily:"HelveticaNeue-Light",fontSize:20,fontWeight:"bold"},top:15}),y=Ti.UI.createImageView({image:w[v],top:45,height:10});I.add(F),I.add(y),f[v]=I}var x=Titanium.UI.createScrollableView({width:Ti.UI.FILL,height:n,views:f,bottom:0,backgroundColor:"#ccc",contentWidth:Ti.UI.FILL,contentHeight:100,mainContent:h});return i.add(b),i.add(T),i.add(h),i.add(x),b.hide(),T.hide(),x.addEventListener("scrollend",function(e){T.hide(),b.hide(),0==e.currentPage&&1==a?(p[1].remove(l[1][1]),a=0):1==e.currentPage&&0==a?(p[1].add(l[1][1]),a=1):1==e.currentPage&&2==a?(p[1].remove(l[2][1]),a=1):2==e.currentPage&&1==a?(p[1].add(l[2][1]),a=2):2==e.currentPage&&3==a?(p[1].remove(l[3][1]),a=2):3==e.currentPage&&2==a?(p[1].add(l[3][1]),a=3):3==e.currentPage&&4==a?(p[1].remove(l[4][1]),a=3):4==e.currentPage&&3==a&&(p[1].add(l[4][1]),a=4)}),x.addEventListener("scroll",function(){T.hide(),b.hide()}),x.addEventListener("touchstart",function(){1==l.length||(0==a&&1!=l.length?T.show():a==l.length-1&&1!=l.length?b.show():(b.show(),T.show()))}),x.addEventListener("touchend",function(){b.hide(),T.hide()}),i=null,x=null,table=null,ads=null,r=null,h=null,d=null,o}function createEventView(e,t,i,o){var a=Ti.UI.createTableView({separatorColor:"transparent",backgroundColor:"#e2e2e2"});a.bottom=i;var n=[];if(e.length>0){for(var r=0,l=0,d=0,c=new GetFeed(Feeds.adFeed()),u="",s=0;s<e.length;s++){var g=new Post(e[s]);if(0==r||u!=g.pubDate&&0!=r){var h=new HeaderRow(g,tracker,t);if(0!=l&&l%3==0&&3>d){var m=new Ad(c[d],tracker,t);n.push(m),d++,3==d&&(d=0)}n.push(h),l++}var m=new SingleRow(g,tracker,t);n.push(m),r++,u=g.pubDate}a.setData(n),o.push([e,a])}return a}var ApplicationWindow=require("ui/common/ApplicationWindow"),GetFeed=require("ui/common/GetFeed"),Feed=require("ui/common/Feed"),Post=require("ui/common/Post"),HeaderRow=require("ui/common/HeaderRow"),SingleRow=require("ui/common/SingleRow"),Ad=require("ui/common/Ad"),PostTable=require("ui/common/PostTable");module.exports=EventsWindow;